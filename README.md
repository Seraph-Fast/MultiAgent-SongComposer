# MultiAgent Composer

MultiAgent Composer is a Python-based AI application that generates original poetry by orchestrating conversations between multiple AI agents, each contributing uniquely to the final composition. The project simulates collaborative creativity by leveraging sequential communication between specialized agents:

- **Data Assistant**: Provides a poem in the style of a specified poet, serving as the stylistic foundation.
- **Assistant Original Poem**: Writes an original poem in its own unique style, introducing fresh creative elements.
- **Composer Agent**: Synthesizes elements from both poems to produce a new composition that emulates the specified poet's style.

---

## Table of Contents

- [Features](#features)
- [Architecture](#architecture)
- [Setup Instructions](#setup-instructions)
  - [Prerequisites](#prerequisites)
  - [Installation](#installation)
- [Usage Guide](#usage-guide)
  - [Interacting with the Api](#interacting-with-the-api)
  - [Viewing Logs](#viewing-logs)
- [License](#license)

---

## Features

- **Multi-Agent Collaboration**: Simulates interaction between AI agents to create poetry.
- **Customizable Poet Styles**: Users can specify any poet's style for the composition.
- **Dockerized Deployment**: Easy setup and scalability with Docker and Docker Compose.
- **Database Integration**: Logs conversations and generated poems in PostgreSQL for persistence.

---

## Architecture

The application consists of the following components:

- **Agents Module (`agents.py`)**: Defines and initializes the AI agents and manages their interactions.
- **Response Extraction**: Processes agent responses to extract poems using standardized tags.
- **Database (`PostgreSQL`)**: Stores logs of conversations and generated content.
- **API Server (`FastAPI`)**: Provides endpoints for interacting with the agents and retrieving data.

---

## Setup Instructions

### Prerequisites

- **Docker** and **Docker Compose** installed on your machine.
- **Git** installed for cloning the repository.

### Installation

1. **Clone the Repository**

   ```bash
   git clone https://github.com/your-username/multiagent-composer.git
   cd multiagent-composer
   ```

2. **Create `app/.env` (for Ollama API) and `app/db.env` (for database connection)**

   **Examples:*

   **`app/db.env`**

   ```makefile
   POSTGRES_USER=postgres
   POSTGRES_PASSWORD=1234
   POSTGRES_DB=db
   POSTGRES_HOST=database
   POSTGRES_PORT=5432
   ```

   **`app/.env`**

   ```makefile
   MODEL_NAME="{model available}"
   BASE_URL="http://{api_base}:{port}/v1"
   ```

3. **Build and Run the Application**

   ```bash
   docker-compose up --build
   ```

4. **Access the Application**

   Open your web browser and navigate to [http://localhost:4000](http://localhost:4000).

---

## Usage Guide

### Interacting with the user interface and api

**Send a Request**

You can interact with the application via its API endpoints or user interface. To generate a poem:

- Open your web browser and navigate to [http://localhost:4000](http://localhost:4000) to test the user interface.
- Specify the poet's style you want to emulate (e.g. "Shakespeare").
- The agents will collaborate to produce the final composition.
- You can visit [http://localhost:4000/docs](http://localhost:4000/docs) to test the api

**Example API Request**

Application provides an API endpoint (e.g. via FastAPI), you can send a POST request:

```bash
curl -X POST "http://localhost:4000/generate-poem" -H "Content-Type: application/json" -d '{"poet": "Shakespeare"}'
```

**Receive the Response**

The response will include the poems generated by each agent and the final composed poem.

### Viewing Logs

The application logs conversations and generated content in the PostgreSQL database.

You can access the logs by navigating to [http://localhost:4000/logs](http://localhost:4000/logs).

---


## License

This project is licensed under the Apache2.0 License.
